{"version":3,"sources":["2/textRoll.js","2/app.js"],"names":["TextRoll","target","size","text","passingLetters","split","letters","rollingLetterDom","passingLetterDom","rollingLetter","document","createElement","classList","add","style","width","height","fontSize","letter","passingLetter","innerText","newText","i","length","createRollingLetter","createPassingLetter","push","appendChild","innerHTML","setText","console","log","time","delay","updateText","padEnd","sort","x","y","Math","random","slice","floor","map","forEach","pl","newTextLetters","setTimeout","animateTime","j","animateValue","transition","transform","getDummy","data","init","v","t","mainArtist","subArtist","mainInput","getElementById","subInput","beforeResult","result","textRoll","window","innerWidth","handleInput","e","value","name","clearTimeout","disabled","animateTo","addEventListener","onload"],"mappings":"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","file":"app.ee7c7dbb.js","sourceRoot":"../src","sourcesContent":["import \"./textRoll.css\";\n\nclass TextRoll {\n  /**\n   * @param {HTMLElement} target\n   * @param {number} size\n   */\n  constructor(target, size = 80) {\n    this.target = target;\n    this.text = \"\";\n    this.size = size;\n    this.passingLetters = \"ABCDEFGHIJKLMNOPQRSTUVWXYZ\".split(\"\");\n    this.letters = [];\n    this.rollingLetterDom = [];\n    this.passingLetterDom = [];\n  }\n\n  createRollingLetter() {\n    const rollingLetter = document.createElement(\"div\");\n    rollingLetter.classList.add(\"rolling-letter\");\n    rollingLetter.style.width = `${this.size}px`;\n    rollingLetter.style.height = `${this.size}px`;\n    rollingLetter.style.fontSize = `${this.size}px`;\n    return rollingLetter;\n  }\n\n  createPassingLetter(letter) {\n    const passingLetter = document.createElement(\"div\");\n    passingLetter.classList.add(\"passing-letter\");\n    passingLetter.style.width = `${this.size}px`;\n    passingLetter.style.height = `${this.size}px`;\n    passingLetter.innerText = letter;\n    return passingLetter;\n  }\n\n  setText(newText) {\n    this.text = newText;\n    this.letters = this.text.split(\"\");\n    for (let i = 0; i < this.letters.length; i++) {\n      const rollingLetter = this.createRollingLetter();\n      const passingLetter = this.createPassingLetter(this.letters[i]);\n\n      this.rollingLetterDom.push(rollingLetter);\n      this.passingLetterDom.push([passingLetter]);\n      rollingLetter.appendChild(passingLetter);\n      this.target.appendChild(rollingLetter);\n    }\n  }\n\n  updateText(newText) {\n    this.rollingLetterDom = [];\n    this.passingLetterDom = [];\n    this.target.innerHTML = \"\";\n    this.setText(newText);\n  }\n\n  getStatus() {\n    console.log(this.rollingLetterDom);\n    console.log(this.passingLetterDom);\n  }\n\n  animateTo(newText, time = 2000, delay = 400) {\n    // confirm text length\n    this.updateText(this.text.padEnd(newText.length, \" \"));\n\n    // insert passing letter\n    for (let i = 0; i < this.rollingLetterDom.length; i++) {\n      this.passingLetters\n        .sort((x, y) => Math.random() - 0.5)\n        .slice(0, 14 + Math.floor(Math.random() * 5))\n        .map((letter) => this.createPassingLetter(letter))\n        .forEach((pl) => {\n          this.rollingLetterDom[i].appendChild(pl);\n          this.passingLetterDom[i].push(pl);\n        });\n    }\n    // insert next letter\n    const newTextLetters = newText.padEnd(this.text.length, \" \").split(\"\");\n    for (let i = 0; i < newTextLetters.length; i++) {\n      const pl = this.createPassingLetter(newTextLetters[i]);\n      this.rollingLetterDom[i].appendChild(pl);\n      this.passingLetterDom[i].push(pl);\n    }\n    // animate\n    setTimeout(() => {\n      let animateTime;\n      for (let i = 0; i < this.rollingLetterDom.length; i++) {\n        animateTime = time / 1000 + Math.random();\n        for (let j = 0; j < this.passingLetterDom[i].length; j++) {\n          const animateValue = `translateY(-${\n            this.size * (this.passingLetterDom[i].length - 1)\n          }px)`;\n\n          this.passingLetterDom[i][\n            j\n          ].style.transition = `transform ${animateTime}s ease-in-out`;\n          this.passingLetterDom[i][j].style.transform = animateValue;\n        }\n      }\n      // clear passing letter thing\n      setTimeout(() => {\n        this.updateText(newText);\n      }, Math.floor(animateTime * 1000 + 1000));\n    }, delay);\n  }\n}\n\nexport default TextRoll;\n","import TextRoll from \"./textRoll\";\n\nfunction getDummy() {\n  const data = [\n    \"Get the Top\",\n    \"Not Bad\",\n    \"Garbage\",\n    \"Wasting Time\",\n    \"Amazing!!\",\n    \"The Return of the King\",\n  ];\n\n  return data[Math.floor(Math.random() * data.length)];\n}\n\nfunction init() {\n  // Variables\n  const v = { mainArtist: \"\", subArtist: \"\" };\n\n  // HTML Elements\n  const mainInput = document.getElementById(\"mainInput\");\n  const subInput = document.getElementById(\"subInput\");\n  const beforeResult = document.getElementById(\"beforeResult\");\n  const result = document.getElementById(\"result\");\n\n  // TextRoll\n  const textRoll = new TextRoll(result, window.innerWidth / 32);\n  textRoll.setText(\"Try your Self\");\n\n  // Event handler\n  let t;\n\n  function handleInput(e) {\n    const { value, name } = e.target;\n    v[name] = value;\n    beforeResult.innerHTML = `${v.mainArtist} + ${v.subArtist}`;\n\n    if (v.mainArtist !== \"\" && v.subArtist !== \"\") {\n      if (t) {\n        clearTimeout(t);\n      }\n      t = setTimeout(() => {\n        mainInput.disabled = true;\n        subInput.disabled = true;\n        textRoll.animateTo(getDummy(), 1000);\n        setTimeout(() => {\n          mainInput.disabled = false;\n          subInput.disabled = false;\n        }, 2500);\n      }, 1200);\n    }\n  }\n\n  document.getElementById(\"mainInput\").addEventListener(\"input\", handleInput);\n  document.getElementById(\"subInput\").addEventListener(\"input\", handleInput);\n}\n\nwindow.onload = init;\n"]}